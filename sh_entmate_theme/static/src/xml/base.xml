<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

	<t t-name="sh_entmate_theme.SHSearchBar" owl="1">
	<div class="sh_mobile_search_icon">
		<button class="o_enable_searchview btn btn-link fa fa-search" t-on-click="_onSearchClick"/>
		 <button class="o_toggle_searchview_full o_hidden btn fa fa-filter" t-on-click="_toggleMobileSearchView"/>
		 
		 <div class="o_mobile_search o_hidden">
		 	<div class="o_mobile_search_header">
	        <span class="o_mobile_search_close float-left mt16 mb16 mr8 ml16" t-on-click="_toggleMobileSearchView">
	            <i class="fa fa-arrow-left"/>
	            <strong class="float-right ml8">FILTER</strong>
	        </span>
	       <!--  <span class="float-right o_mobile_search_clear_facets mt16 mr16" t-on-click="_onEmptyAll">CLEAR</span> -->
	    </div>
	    <div class="o_mobile_search_filter o_search_options mb8 mt8 ml16 mr16">
	    
	    	<t t-if="props.withSearchBar">
                        <FilterMenu t-if="props.searchMenuTypes.includes('filter')"
                            class="o_filter_menu"
                            fields="fields"
                        />
                        <GroupByMenu t-if="props.searchMenuTypes.includes('groupBy')"
                            class="o_group_by_menu"
                            fields="fields"
                        />
                        <ComparisonMenu t-if="props.searchMenuTypes.includes('comparison') and model.get('filters', f => f.type === 'comparison').length"
                            class="o_comparison_menu"
                        />
                        <FavoriteMenu t-if="props.searchMenuTypes.includes('favorite')"
                            class="o_favorite_menu"
                        />
                    </t>
                </div>
	    <div class="btn btn-primary o_mobile_search_show_result fixed-bottom" t-on-click="_toggleMobileSearchView">SEE RESULT</div>
		 </div>
		 
    
    
	</div>
	  
	  <!-- <div class="o_mobile_search_header">
        <span class="o_mobile_search_close float-left mt16 mb16 mr8 ml16">
            <i class="fa fa-arrow-left"/>
            <strong class="float-right ml8">FILTER</strong>
        </span>
        <span class="float-right o_mobile_search_clear_facets mt16 mr16">CLEAR</span>
    </div>
    <div class="o_mobile_search_filter o_search_options mb8 mt8 ml16 mr16"/>
    <div class="btn btn-primary o_mobile_search_show_result fixed-bottom">SEE RESULT</div> -->
	
	</t>
	<!-- <t t-extend="SearchBar" t-inherit="web.SearchBar" t-inherit-mode="extension">
		 <xpath expr="//input[hasclass('o_searchview_input')]" position="after">
		 <SHSearchBar />
		 </xpath>
	
	</t> -->
	<t t-extend="ControlPanel" t-inherit="web.ControlPanel" t-inherit-mode="extension">
	
		<!-- <xpath expr="//div[hasclass('o_cp_bottom_right')]/div[hasclass('o_search_options')]" position="attributes">
			<attribute name="class">o_search_options o_hidden</attribute>
		</xpath> -->
		 
		  <xpath expr="//nav[hasclass('o_cp_switch_buttons')]" position="replace">
			
		           <t t-if="state.isMobile and props.views.length gt 1">
		           		<button class="btn btn-link btn-sm" data-toggle="dropdown" aria-expanded="false">
				       	 <span class="o_switch_view_button_icon fa fa-lg fa-th-large"/>
				    	</button>
						<ul class="dropdown-menu dropdown-menu-right list-inline">
					       <!--  <li t-foreach="views" t-as="view">
					            <t t-call="ControlPanel.SwitchButton"/>
					        </li> -->
					        
					         <t t-foreach="props.views" t-as="view" t-key="view.type">
	                        	<t t-call="web.ViewSwitcherButton"/>
	                    	</t>
					    </ul>
		           </t>	
		           <t t-else="">
		           	 <nav t-if="props.views.length gt 1" class="btn-group o_cp_switch_buttons" role="toolbar" aria-label="View switcher">
	                    <t t-foreach="props.views" t-as="view" t-key="view.type">
	                        <t t-call="web.ViewSwitcherButton"/>
	                    </t>
	                </nav>
		           </t>
		        
		</xpath>
		 
        <xpath expr="//div[hasclass('o_cp_top_right')]" position="replace">
            <div class="o_cp_top_right">
                <div class="o_cp_searchview"
                    role="search"
                    t-ref="searchView"
                    >
                   
                    <div t-if="props.withSearchBar" class="o_searchview" role="search" aria-autocomplete="list" >
                       <!--  <i class="o_searchview_icon fa fa-search"
                            title="Search..."
                            role="img"
                            aria-label="Search..."
                        /> -->
                       
       <!--  <t t-call="MobileSearchView"/> -->
       
         				 <t t-if="state.isMobile">
                         <SHSearchBar/>
                         </t>
                         <t t-else="">
                          <i class="o_searchview_icon fa fa-search"
                            title="Search..."
                            role="img"
                            aria-label="Search..."
                        /> 
                         </t>
                          <SearchBar t-if="props.withSearchBar" fields="fields" /> 
                       
                    </div>
                </div>
            </div>
        </xpath>
    </t>
    
 <!--  <t t-extend="SearchBar" t-inherit="web.SearchBar" t-inherit-mode="extension">
    <xpath expr="//div[hasclass('o_searchview_input_container')]" position="replace">
        <attribute name="class">o_searchview_input_container o_hidden</attribute>
        <t t-if="props.mobile">
            <div class="o_searchview_input_container o_hidden">
                <div t-foreach="model.get('facets')" t-as="facet" t-key="facet_index" tabindex="0" class="o_searchview_facet" role="img" aria-label="search" t-on-keydown="_onFacetKeydown(facet, facet_index)">
                    <span t-if="facet.icon" t-attf-class="o_searchview_facet_label {{ facet.icon }}" />
                    <span t-else="" class="o_searchview_facet_label" t-esc="facet.title" />
                    <div class="o_facet_values">
                        <t t-foreach="facet.values" t-as="facetValue" t-key="facetValue_index">
                            <span t-if="!facetValue_first" class="o_facet_values_sep" t-esc="facet.separator" />
                            <span class="o_facet_value" t-esc="facetValue" />
                        </t>
                    </div>
                    <i class="fa fa-sm fa-remove o_facet_remove" role="img" aria-label="Remove" title="Remove" t-on-click="_onFacetRemove(facet)" />
                </div>
                <input type="text" class="o_searchview_input" autofocus="" accesskey="Q" placeholder="Search..." role="searchbox" t-ref="search-input" t-on-keydown="_onSearchKeydown" t-on-input="_onSearchInput" />
                <ul t-if="state.sources.length" class="o_dropdown_menu o_searchview_autocomplete dropdown-menu show" role="menu">
                    <li
                        t-foreach="state.sources"
                        t-as="src"
                        t-key="src.id"
                        t-att-id="src.id"
                        class="o_menu_item"
                        t-att-class="{ o_indent: src.parent, o_selection_focus: src_index === state.focusedItem }"
                        t-on-click="_selectSource(src)"
                        t-on-mousemove="_onSourceMousemove(src_index)"
                    >
                        <a t-if="src.expand" href="#" class="o_expand" t-on-click.stop.prevent="_expandSource(src, !src.expanded)">
                            <i t-attf-class="fa fa-caret-{{ src.expanded ? 'down' : 'right' }}" />
                        </a>
                        <a href="#" t-on-click.prevent="">
                            <t t-if="src.label" t-esc="src.label" />
                            <t t-elif="['date', 'datetime'].includes(src.type)">
                                <t>Search <em t-esc="src.description" /> at: <strong t-esc="state.inputValue" /></t>
                            </t>
                            <t t-else="">Search <em t-esc="src.description" /> for: <strong t-esc="state.inputValue" /></t>
                        </a>
                    </li>
                </ul>
            </div>
        </t>
        <t t-else="">
            <div class="o_searchview_input_container">
                <div t-foreach="model.get('facets')" t-as="facet" t-key="facet_index" tabindex="0" class="o_searchview_facet" role="img" aria-label="search" t-on-keydown="_onFacetKeydown(facet, facet_index)">
                    <span t-if="facet.icon" t-attf-class="o_searchview_facet_label {{ facet.icon }}" />
                    <span t-else="" class="o_searchview_facet_label" t-esc="facet.title" />
                    <div class="o_facet_values">
                        <t t-foreach="facet.values" t-as="facetValue" t-key="facetValue_index">
                            <span t-if="!facetValue_first" class="o_facet_values_sep" t-esc="facet.separator" />
                            <span class="o_facet_value" t-esc="facetValue" />
                        </t>
                    </div>
                    <i class="fa fa-sm fa-remove o_facet_remove" role="img" aria-label="Remove" title="Remove" t-on-click="_onFacetRemove(facet)" />
                </div>
                <input type="text" class="o_searchview_input" autofocus="" accesskey="Q" placeholder="Search..." role="searchbox" t-ref="search-input" t-on-keydown="_onSearchKeydown" t-on-input="_onSearchInput" />
                <ul t-if="state.sources.length" class="o_dropdown_menu o_searchview_autocomplete dropdown-menu show" role="menu">
                    <li
                        t-foreach="state.sources"
                        t-as="src"
                        t-key="src.id"
                        t-att-id="src.id"
                        class="o_menu_item"
                        t-att-class="{ o_indent: src.parent, o_selection_focus: src_index === state.focusedItem }"
                        t-on-click="_selectSource(src)"
                        t-on-mousemove="_onSourceMousemove(src_index)"
                    >
                        <a t-if="src.expand" href="#" class="o_expand" t-on-click.stop.prevent="_expandSource(src, !src.expanded)">
                            <i t-attf-class="fa fa-caret-{{ src.expanded ? 'down' : 'right' }}" />
                        </a>
                        <a href="#" t-on-click.prevent="">
                            <t t-if="src.label" t-esc="src.label" />
                            <t t-elif="['date', 'datetime'].includes(src.type)">
                                <t>Search <em t-esc="src.description" /> at: <strong t-esc="state.inputValue" /></t>
                            </t>
                            <t t-else="">Search <em t-esc="src.description" /> for: <strong t-esc="state.inputValue" /></t>
                        </a>
                    </li>
                </ul>
            </div>
        </t>
    </xpath>
</t> -->
</templates>